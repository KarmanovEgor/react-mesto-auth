{"ast":null,"code":"import{useRef}from\"react\";import useFormValidation from\"../../utils/useFormValidation\";import PopupWithForm from\"../PopapWithForm/PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var input=useRef();var _useFormValidation=useFormValidation(),values=_useFormValidation.values,errors=_useFormValidation.errors,isInputValid=_useFormValidation.isInputValid,isValid=_useFormValidation.isValid,handleChange=_useFormValidation.handleChange,reset=_useFormValidation.reset;function resetOfClose(){onClose();reset();input.current.value='';}function handleSubmit(e){e.preventDefault();onUpdateAvatar({avatar:input.current.value},reset);}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"avatar-edit\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",btnTitle:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:resetOfClose,isValid:isValid,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"popup__elements\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__element \".concat(isInputValid.avatar===undefined||isInputValid.avatar?\"\":\"popup__element_invalid\"),ref:input,type:\"url\",name:\"avatar\",id:\"ava\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:\"\",value:values.avatar,onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_type_avatar\",children:errors.avatar})]})});}","map":{"version":3,"names":["useRef","useFormValidation","PopupWithForm","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","input","_useFormValidation","values","errors","isInputValid","isValid","handleChange","reset","resetOfClose","current","value","handleSubmit","e","preventDefault","avatar","name","title","btnTitle","onSubmit","children","className","concat","undefined","ref","type","id","placeholder","required","onChange"],"sources":["/Users/egorkarmanov/Desktop/yandex/mestoreact/mesto-react/src/components/EditAvatarPopup/EditAvatarPopup.jsx"],"sourcesContent":["import { useRef } from \"react\";\nimport useFormValidation from \"../../utils/useFormValidation\";\nimport PopupWithForm from \"../PopapWithForm/PopupWithForm\";\n\nexport default function EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const input = useRef();\n  const { values, errors, isInputValid, isValid, handleChange, reset } =\n    useFormValidation();\n  function resetOfClose() {\n    onClose();\n    reset();\n    input.current.value = '';\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({ avatar: input.current.value }, reset);\n  }\n  return (\n    <PopupWithForm\n      name=\"avatar-edit\"\n      title=\"Обновить аватар\"\n      btnTitle=\"Обновить\"\n      isOpen={isOpen}\n      onClose={resetOfClose}\n      isValid={isValid}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__elements\">\n        <input\n          className={`popup__element ${\n            isInputValid.avatar === undefined || isInputValid.avatar\n              ? \"\"\n              : \"popup__element_invalid\"\n          }`}\n          ref={input}\n          type=\"url\"\n          name=\"avatar\"\n          id=\"ava\"\n          placeholder=\"Ссылка на картинку\"\n          required=\"\"\n          value={values.avatar}\n          onChange={handleChange}\n        />\n        <span className=\"popup__error popup__error_type_avatar\">\n          {errors.avatar}\n        </span>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n"],"mappings":"AAAA,OAASA,MAAM,KAAQ,OAAO,CAC9B,MAAO,CAAAC,iBAAiB,KAAM,+BAA+B,CAC7D,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3D,cAAe,SAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAoC,IAAlC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CACtE,GAAM,CAAAC,KAAK,CAAGZ,MAAM,CAAC,CAAC,CACtB,IAAAa,kBAAA,CACEZ,iBAAiB,CAAC,CAAC,CADba,MAAM,CAAAD,kBAAA,CAANC,MAAM,CAAEC,MAAM,CAAAF,kBAAA,CAANE,MAAM,CAAEC,YAAY,CAAAH,kBAAA,CAAZG,YAAY,CAAEC,OAAO,CAAAJ,kBAAA,CAAPI,OAAO,CAAEC,YAAY,CAAAL,kBAAA,CAAZK,YAAY,CAAEC,KAAK,CAAAN,kBAAA,CAALM,KAAK,CAElE,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtBV,OAAO,CAAC,CAAC,CACTS,KAAK,CAAC,CAAC,CACPP,KAAK,CAACS,OAAO,CAACC,KAAK,CAAG,EAAE,CAC1B,CACA,QAAS,CAAAC,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBd,cAAc,CAAC,CAAEe,MAAM,CAAEd,KAAK,CAACS,OAAO,CAACC,KAAM,CAAC,CAAEH,KAAK,CAAC,CACxD,CACA,mBACEf,IAAA,CAACF,aAAa,EACZyB,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAC,uFAAiB,CACvBC,QAAQ,CAAC,kDAAU,CACnBpB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEU,YAAa,CACtBH,OAAO,CAAEA,OAAQ,CACjBa,QAAQ,CAAEP,YAAa,CAAAQ,QAAA,cAEvBzB,KAAA,aAAU0B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eACnC3B,IAAA,UACE4B,SAAS,mBAAAC,MAAA,CACPjB,YAAY,CAACU,MAAM,GAAKQ,SAAS,EAAIlB,YAAY,CAACU,MAAM,CACpD,EAAE,CACF,wBAAwB,CAC3B,CACHS,GAAG,CAAEvB,KAAM,CACXwB,IAAI,CAAC,KAAK,CACVT,IAAI,CAAC,QAAQ,CACbU,EAAE,CAAC,KAAK,CACRC,WAAW,CAAC,oGAAoB,CAChCC,QAAQ,CAAC,EAAE,CACXjB,KAAK,CAAER,MAAM,CAACY,MAAO,CACrBc,QAAQ,CAAEtB,YAAa,CACxB,CAAC,cACFd,IAAA,SAAM4B,SAAS,CAAC,uCAAuC,CAAAD,QAAA,CACpDhB,MAAM,CAACW,MAAM,CACV,CAAC,EACC,CAAC,CACE,CAAC,CAEpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}